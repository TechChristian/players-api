{
  "openapi": "3.1.1",
  "info": {
    "title": "API de Futebol",
    "description": "API para gerenciar Jogadores, Clubes e Transferências.",
    "version": "1.0.0"
  },

  "servers": [
    {
      "url": "http://localhost:3000",
      "description": "Servidor Local"
    }
  ],

  "paths": {
    "/api/player": {
      "get": {
        "summary": "Listar todos os jogadores",
        "tags": ["Jogadores"],
        "responses": {
          "200": {
            "description": "Jogadores listados com sucesso"
          },
          "500": { "description": "Erro ao listar jogadores" }
        }
      },
      "post": {
        "summary": "Criar um novo jogador",
        "tags": ["Jogadores"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/PlayerCreate" },
              "example": {
                "first_name": "Lionel",
                "last_name": "Messi",
                "positon": "RW",
                "age": 37,
                "club_id": 1
              }
            }
          }
        },
        "responses": {
          "201": { "description": "Jogador criado com sucesso" },
          "400": { "description": "Dados inválidos" },
          "500": { "description": "Erro ao criar jogador" }
        }
      }
    },

    "/api/player/{id}": {
      "put": {
        "summary": "Atualizar um jogador pelo ID",
        "tags": ["Jogadores"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/PlayerUpdate" },
              "example": {
                "first_name": "Cristiano",
                "last_name": "Ronaldo",
                "positon": "ST",
                "age": 39,
                "club_id": 2
              }
            }
          }
        },
        "responses": {
          "200": { "description": "Jogador atualizado com sucesso" },
          "404": { "description": "Este Player não existe." }
        }
      },

      "delete": {
        "summary": "Deletar jogador pelo ID",
        "tags": ["Jogadores"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer" }
          }
        ],
        "responses": {
          "200": { "description": "Jogador deletado com sucesso" },
          "404": { "description": "Este Player não existe." },
          "500": { "description": "Erro ao deletar jogador" }
        }
      }
    },

    "/api/clube": {
      "get": {
        "summary": "Listar clubes (todos ou por filtro)",
        "tags": ["Clubes"],
        "parameters": [
          {
            "name": "club_id",
            "in": "query",
            "required": false,
            "schema": { "type": "integer" },
            "description": "Filtrar clube específico"
          }
        ],
        "responses": {
          "200": { "description": "Clubes listados com sucesso" },
          "500": { "description": "Erro ao listar clubes" }
        }
      },

      "post": {
        "summary": "Criar um clube",
        "tags": ["Clubes"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/ClubeCreate" },
              "example": {
                "club_name": "Barcelona",
                "country": "Spain"
              }
            }
          }
        },
        "responses": {
          "201": { "description": "Clube criado com sucesso" },
          "500": { "description": "Erro ao criar clube" }
        }
      }
    },

    "/api/clube/{id}": {
      "put": {
        "summary": "Atualizar um clube pelo ID",
        "tags": ["Clubes"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer" }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/ClubeUpdate" },
              "example": {
                "club_name": "Real Madrid",
                "country": "Spain"
              }
            }
          }
        },
        "responses": {
          "200": { "description": "Clube atualizado com sucesso" },
          "500": { "description": "Erro ao atualizar clube" }
        }
      },

      "delete": {
        "summary": "Deletar clube pelo ID",
        "tags": ["Clubes"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer" }
          }
        ],
        "responses": {
          "200": { "description": "Clube deletado com sucesso" },
          "500": { "description": "Erro ao deletar clube" }
        }
      }
    },

    "/api/transfer": {
      "get": {
        "summary": "Listar todas as transferências",
        "tags": ["Transferências"],
        "responses": {
          "201": {
            "description": "Transferências listadas com sucesso"
          },
          "400": { "description": "Erro ao listar transferências" }
        }
      },

      "post": {
        "summary": "Criar uma transferência de jogador",
        "tags": ["Transferências"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/TransferCreate" },
              "example": {
                "player_id": 1,
                "from_club_id": 1,
                "to_club_id": 3,
                "transfer_fee": 50000000
              }
            }
          }
        },
        "responses": {
          "201": { "description": "Transferência criada com sucesso" },
          "400": { "description": "Erro ao criar transferência" }
        }
      }
    }
  },

  "components": {
    "schemas": {
      "Player": {
        "type": "object",
        "properties": {
          "user_id": { "type": "integer" },
          "first_name": { "type": "string" },
          "last_name": { "type": "string" },
          "positon": { "type": "string" },
          "age": { "type": "integer" },
          "club_id": { "type": "integer" }
        }
      },

      "PlayerCreate": {
        "type": "object",
        "required": ["first_name", "last_name", "positon", "age", "club_id"],
        "properties": {
          "first_name": { "type": "string" },
          "last_name": { "type": "string" },
          "positon": { "type": "string" },
          "age": { "type": "integer" },
          "club_id": { "type": "integer" }
        }
      },

      "PlayerUpdate": {
        "type": "object",
        "properties": {
          "first_name": { "type": "string" },
          "last_name": { "type": "string" },
          "positon": { "type": "string" },
          "age": { "type": "integer" },
          "club_id": { "type": "integer" }
        }
      },

      "ClubeCreate": {
        "type": "object",
        "required": ["club_name", "country"],
        "properties": {
          "club_name": { "type": "string" },
          "country": { "type": "string" }
        }
      },

      "ClubeUpdate": {
        "type": "object",
        "properties": {
          "club_name": { "type": "string" },
          "country": { "type": "string" }
        }
      },

      "TransferCreate": {
        "type": "object",
        "required": ["player_id", "from_club_id", "to_club_id"],
        "properties": {
          "player_id": { "type": "integer" },
          "from_club_id": { "type": "integer" },
          "to_club_id": { "type": "integer" },
          "transfer_fee": { "type": "number" }
        }
      }
    }
  }
}
